---
// src/pages/index.astro

import { getImage } from "astro:assets";
import FaqItem from "../components/FaqItem.astro";
import Layout from "../layouts/Layout.astro";
// Import the new component
import DownloadSection from "../components/DownloadSection.astro";

import desktopMockup from "../assets/images/mockups/desktop-mockup.png";
import desktopMockupDark from "../assets/images/mockups/desktop-mockup-dark.png";
import padMockup from "../assets/images/mockups/pad-mockup.png";
import padMockupDark from "../assets/images/mockups/pad-mockup-dark.png";
import mobileMockup from "../assets/images/mockups/mobile-mockup.png";
import mobileMockupDark from "../assets/images/mockups/mobile-mockup-dark.png";

// Use getImage to process each image and get its optimized attributes
const optimizedDesktopLight = await getImage({
  src: desktopMockup,
  formats: ["avif", "webp"],
});
const optimizedDesktopDark = await getImage({
  src: desktopMockupDark,
  formats: ["avif", "webp"],
});
const optimizedPadLight = await getImage({
  src: padMockup,
  formats: ["avif", "webp"],
});
const optimizedPadDark = await getImage({
  src: padMockupDark,
  formats: ["avif", "webp"],
});
const optimizedMobileDark = await getImage({
  src: mobileMockupDark,
  formats: ["avif", "webp"],
});
const optimizedMobileLight = await getImage({
  src: mobileMockup,
  formats: ["avif", "webp"],
});
---

<Layout
  title="FennaAI | Your AI. Trained By You. On Your Machine."
  description="FennaAI gives you a private, personal AI that runs on your laptop, learns from your data, and stays completely under your control — no cloud, no compromises."
>
  <div class="page">
    <div class="flex hero">
      <div class="hero-text">
        <h1 class="animate pop">“Finally, AI you can train yourself.”</h1>
      </div>

      <div class="product-preview animate pop delay-1">
        <picture>
          {/* Desktop Sources */}
          <source
            media="(min-width: 1024px) and (prefers-color-scheme: dark)"
            srcset={optimizedDesktopDark.src}
          />
          <source
            media="(min-width: 1024px)"
            srcset={optimizedDesktopLight.src}
          />
          {/* Tablet Sources */}
          <source
            media="(min-width: 768px) and (prefers-color-scheme: dark)"
            srcset={optimizedPadDark.src}
          />
          <source media="(min-width: 768px)" srcset={optimizedPadLight.src} />
          {/* Mobile Dark Source */}
          <source
            media="(prefers-color-scheme: dark)"
            srcset={optimizedMobileDark.src}
          />

          {/* Fallback <img> element for mobile light and older browsers */}
          <img
            src={optimizedMobileLight.src}
            {...optimizedMobileLight.attributes}
            alt="App interface on a device"
            class="mockup-main"
          />
        </picture>
      </div>
    </div>

    <div class="social-proof animate slide delay-2">
      <p>✨ Join thousands exploring personal AI safely and privately.</p>
    </div>

    <DownloadSection />

    <section class="faq-section">
      <h2 class="animate fade delay-3">Frequently Asked Questions</h2>
      <FaqItem question="How does FennaAI work?">
        <p>
          FennaAI runs directly on your computer. You download an open-source AI
          model and "teach" it with your personal or business data. Everything
          stays local — your files never leave your machine. The AI adapts to
          you, and you stay in full control.
        </p>
      </FaqItem>

      <FaqItem question="Is my data safe?">
        <p>
          Absolutely. Since FennaAI works offline on your computer, your data
          never goes to the cloud. We cannot access your files, your
          conversations, or your models. Your AI is truly yours.
        </p>
      </FaqItem>

      <FaqItem question="Do I need to know how to code?">
        <p>
          Not at all! FennaAI is designed for everyday users. The app guides you
          through downloading a model, training it, and chatting — all without
          writing a single line of code.
        </p>
      </FaqItem>

      <FaqItem question="What are the system requirements?">
        <p>
          FennaAI runs on laptops and desktops of most modern specs. <br />
          <strong>Minimum:</strong> modern multi-core CPU, 8GB RAM <br />
          <strong>Recommended:</strong> 16GB RAM and a GPU for smoother training.
          <br />
          The app will automatically suggest models that fit your system.
        </p>
      </FaqItem>

      <FaqItem question="Can I use FennaAI offline?">
        <p>
          Yes! Once installed, FennaAI works completely offline. You don’t need
          an internet connection to chat with your AI or train it on your data.
        </p>
      </FaqItem>

      <FaqItem question="Which devices does FennaAI support?">
        <p>
          Currently, we support <strong>macOS, Windows, and Linux</strong>.
          Mobile versions and Gmail integration are planned for the near future.
        </p>
      </FaqItem>

      <FaqItem question="How much does FennaAI cost?">
        <p>
          The core app is free to download. Since you run everything locally,
          there are no hidden subscription fees. Some advanced features may be
          offered later, but FennaAI will always prioritize a free, private
          experience.
        </p>
      </FaqItem>

      <FaqItem question="What kind of data can I train my AI on?">
        <p>
          Anything personal or work-related — documents, emails, notes, business
          files, etc. FennaAI helps your AI become more useful for your tasks
          while keeping everything private.
        </p>
      </FaqItem>

      <FaqItem question="Will it slow down my computer?">
        <p>
          FennaAI is designed to adapt to your system. Some models are more
          resource-intensive than others, but the app recommends the best
          options for your hardware so you get a smooth experience.
        </p>
      </FaqItem>

      <FaqItem question="How do updates work?">
        <p>
          We regularly release updates to improve performance, add features, and
          support new models. You’ll be notified in-app and can install updates
          with a single click.
        </p>
      </FaqItem>

      <FaqItem question="What if I run into problems?">
        <p>
          We’re building a support community where users share tips, model
          recommendations, and guides. You’ll also be able to reach out directly
          for help if needed.
        </p>
      </FaqItem>
    </section>

    <DownloadSection />
  </div>
</Layout>

<style>
  /*
    The fadeIn keyframes are no longer needed here,
    as animate.css is handling the animations.
  */

  /* --- Hero Section & Floating Circles --- */
  .hero {
    padding: var(--space-s) 0;
  }

  /* User's existing styles - untouched */
  .page {
    display: flex;
    flex-direction: column;
    gap: var(--space-xl);
    padding: var(--space-s);
  }
  h1 {
    text-align: center;
    font-size: var(--step-5);
    font-weight: 700;
    line-height: 1.15;
    letter-spacing: -0.04em;
  }
  .flex {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 2.5rem;
  }
  .social-proof {
    text-align: center;
    font-size: var(--step-0);
    color: var(--gray-11);
  }
  /* --- */
  .product-preview img,
  .product-preview picture {
    width: 100%;
    filter: drop-shadow(0px 25px 50px rgba(0, 0, 0, 0.5));
  }

  .faq-section h2 {
    text-align: center;
  }
</style>
