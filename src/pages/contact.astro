---
import Layout from "../layouts/Layout.astro";
---

<Layout
  title="Contact | FennaAI"
  description="Get in touch with the FennaAI team — support, sales, and press."
>
  <div class="contact-page">
    <header class="page-header" data-animate-on-scroll>
      <h1>Get in Touch</h1>
      <p class="lede">
        We’re here to help. Whether you need support, want to talk about teams,
        or have a press inquiry — say hello.
      </p>
    </header>

    <main class="grid">
      <section class="cards" data-animate-on-scroll>
        <a class="card" href="mailto:support@fenna.ai">
          <h2>Support</h2>
          <p>
            Questions about using FennaAI or training your AI? Email <strong
              >support@fennaai.com</strong
            >.
          </p>
        </a>

        <a class="card" href="mailto:sales@fenna.ai">
          <h2>Sales</h2>
          <p>
            Interested in teams or enterprise? Email <strong
              >sales@fennaai.com</strong
            >.
          </p>
        </a>

        <a class="card" href="mailto:press@fenna.ai">
          <h2>Press</h2>
          <p>Media or partnerships: <strong>press@fennaai.com</strong>.</p>
        </a>
      </section>

      <section class="form-wrap" data-animate-on-scroll>
        <h2>Send a Message</h2>
        <form id="contact-form">
          <div class="row">
            <label>
              Name
              <input type="text" name="name" required />
            </label>
            <label>
              Email
              <input type="email" name="email" required />
            </label>
          </div>

          <label>
            Topic
            <select name="topic" required>
              <option value="support">Support</option>
              <option value="sales">Sales</option>
              <option value="press">Press</option>
              <option value="other">Other</option>
            </select>
          </label>

          <label>
            Message
            <textarea name="message" rows="6" required></textarea>
          </label>

          <button type="submit" class="submit">Send</button>
          <p id="form-status" class="status" aria-live="polite"></p>
        </form>
        <p class="privacy-note">
          By contacting us, you agree we may use your message to respond. We
          don’t add you to mailing lists without consent.
        </p>
      </section>
    </main>
  </div>
</Layout>

<style>
  .contact-page {
    max-width: 80rem;
    margin: 0 auto;
    padding: 1rem;
  }
  .page-header {
    text-align: center;
    padding: 4rem 1rem 2rem;
  }
  .page-header h1 {
    font-size: 2.5rem;
    font-weight: 800;
    margin-bottom: 0.5rem;
  }
  .lede {
    max-width: 46rem;
    margin: 0.75rem auto 0;
    color: var(--gray-11);
  }

  .grid {
    display: grid;
    gap: 2rem;
    grid-template-columns: 1fr;
    max-width: 64rem;
    margin: 0 auto 4rem;
  }
  @media (min-width: 900px) {
    .grid {
      grid-template-columns: 1fr 1fr;
    }
  }

  .cards {
    display: grid;
    gap: 1rem;
  }
  .card {
    display: block;
    background: var(--gray-3);
    border: 1px solid var(--gray-4);
    border-radius: 1rem;
    padding: 1.25rem 1rem;
    text-decoration: none;
    color: var(--gray-12);
    transition: transform 0.2s;
  }
  .card:hover {
    transform: translateY(-3px);
  }
  .card h2 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 0.25rem;
  }
  .card p {
    color: var(--gray-11);
  }

  .form-wrap {
    background: var(--gray-3);
    border: 1px solid var(--gray-4);
    border-radius: 1rem;
    padding: 1.5rem;
  }
  .form-wrap h2 {
    font-size: 1.25rem;
    font-weight: 700;
    margin-bottom: 1rem;
  }
  .row {
    display: grid;
    gap: 1rem;
    grid-template-columns: 1fr;
  }
  @media (min-width: 640px) {
    .row {
      grid-template-columns: 1fr 1fr;
    }
  }
  label {
    display: grid;
    gap: 0.5rem;
    font-weight: 600;
  }
  input,
  select,
  textarea {
    border: 1px solid var(--pink-6);
    border-radius: 0.75rem;
    padding: 0.75rem;
    font-size: 1rem;
  }
  .submit {
    margin-top: 1rem;
    background: var(--pink-11);
    color: var(--gray-1);
    border: none;
    border-radius: 9999px;
    padding: 0.75rem 1.5rem;
    font-weight: 700;
    cursor: pointer;
    transition:
      transform 0.2s,
      background 0.2s;
  }
  .submit:hover {
    transform: translateY(-1px);
    background: var(--gray-12);
  }
  .status {
    margin-top: 0.5rem;
    color: var(--gray-11);
  }
  .privacy-note {
    margin-top: 1rem;
    font-size: 0.95rem;
    color: var(--gray-11);
  }

  [data-animate-on-scroll] {
    opacity: 0;
    transform: translateY(20px);
    transition:
      opacity 0.6s ease,
      transform 0.6s ease;
  }
  [data-animate-on-scroll].is-visible {
    opacity: 1;
    transform: translateY(0);
  }
</style>

<script>
  // Reveal on scroll
  document.addEventListener("DOMContentLoaded", () => {
    const els = document.querySelectorAll("[data-animate-on-scroll]");
    const io = new IntersectionObserver(
      (entries) =>
        entries.forEach((e) => {
          if (e.isIntersecting) {
            e.target.classList.add("is-visible");
            io.unobserve(e.target);
          }
        }),
      { threshold: 0.1 }
    );
    els.forEach((el) => io.observe(el));
  });

  // Simple mailto-based form submission (no backend required)
  document.addEventListener("DOMContentLoaded", () => {
    const form = document.getElementById("contact-form");
    const status = document.getElementById("form-status");
    if (!form) return;

    form.addEventListener("submit", (e) => {
      e.preventDefault();
      const data = new FormData(form);
      const name = data.get("name");
      const email = data.get("email");
      const topic = data.get("topic");
      const message = data.get("message");

      const to =
        topic === "sales"
          ? "sales@fennaai.com"
          : topic === "press"
            ? "press@fennaai.com"
            : "support@fennaai.com";

      const subject = encodeURIComponent(
        `[FennaAI] ${String(topic).toUpperCase()} — ${name}`
      );
      const body = encodeURIComponent(
        `Name: ${name}\nEmail: ${email}\nTopic: ${topic}\n\nMessage:\n${message}`
      );

      const mailto = `mailto:${to}?subject=${subject}&body=${body}`;
      window.location.href = mailto;
      status.textContent =
        "Your email client should open now. If not, email us directly at " +
        to +
        ".";
    });
  });
</script>
